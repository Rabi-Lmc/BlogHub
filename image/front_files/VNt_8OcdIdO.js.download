;/*FB_PKG_DELIM*/

__d("IGDMessageButton.react",["IGDSIconButton.react","IGDSTooltip.react","PolarisIGCorePressable.react","PolarisUA","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["label","xstyle"],i,j=i||(i=d("react")),k=i.useState,l={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},buttonWithHover:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",opacity:"x1hc1fzr",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e,f,g;b[0]!==a?(e=a.label,g=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=k(!1);var i=a[0],n=a[1];b[4]!==g?(a=[l.button,l.buttonWithHover,g],b[4]=g,b[5]=a):a=b[5];b[6]!==f||b[7]!==a?(g=j.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},f,{xstyle:a})),b[6]=f,b[7]=a,b[8]=g):g=b[8];f=g;a=c("useCurrentDisplayMode")();g=a==="dark";a=g?"primary":"black";b[9]!==i?(g=d("PolarisUA").isMobile()?!1:i,b[9]=i,b[10]=g):g=b[10];var o;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){n(!0)},o=function(){n(!1)},b[11]=i,b[12]=o):(i=b[11],o=b[12]);b[13]!==f?(i=j.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:i,onMouseLeave:o,onPress:m,children:f}),b[13]=f,b[14]=i):i=b[14];b[15]!==e||b[16]!==a||b[17]!==g||b[18]!==i?(o=j.jsx(c("IGDSTooltip.react"),{align:"middle",color:a,isVisible:g,position:"auto",tooltip:e,children:i}),b[15]=e,b[16]=a,b[17]=g,b[18]=i,b[19]=o):o=b[19];return o}function m(){}g["default"]=a}),98);
__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function a(a){var b=d("react-compiler-runtime").c(30),e=a.isMessageHidden,g=a.message,j=a.onMessageUnhide,m=a.outgoing;a=a.thread;var n=(i||(i=c("useReStore")))(),o;b[0]!==n.tables.contacts||b[1]!==g.senderId?(o=function(){return d("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(g.senderId)},b[0]=n.tables.contacts,b[1]=g.senderId,b[2]=o):o=b[2];var p;b[3]!==n||b[4]!==g.senderId?(p=[n,g.senderId],b[3]=n,b[4]=g.senderId,b[5]=p):p=b[5];o=d("ReQLSuspense").useFirst(o,p,f.id+":57");p=(p=o==null?void 0:o.name)!=null?p:o==null?void 0:o.secondaryName;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"More"),b[6]=o):o=b[6];var q=o;b[7]!==p?(o=h._(/*BTDS*/"See more options for message from {sender name}",[h._param("sender name",p)]),b[7]=p,b[8]=o):o=b[8];var r=o,s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[9]!==t||b[10]!==s||b[11]!==g.messageId?(p=function(a){s==null||s({eventName:"open_message_options",extraData:{message_id:g.messageId},flowInstanceId:t}),a()},b[9]=t,b[10]=s,b[11]=g.messageId,b[12]=p):p=b[12];b[13]!==t||b[14]!==s||b[15]!==g.messageId||b[16]!==a?(o=[s,a,g.messageId,t],b[13]=t,b[14]=s,b[15]=g.messageId,b[16]=a,b[17]=o):o=b[17];var u=d("Int64Hooks").useCallbackInt64(p,o);p=m?"end":"start";b[18]!==e||b[19]!==g||b[20]!==j||b[21]!==a?(o={isMessageHidden:e,message:g,onMessageUnhide:j,thread:a},b[18]=e,b[19]=g,b[20]=j,b[21]=a,b[22]=o):o=b[22];b[23]!==r||b[24]!==u?(m=function(a,b){return k.jsx(c("IGDMessageButton.react"),{innerRef:a,label:q,onClick:function(){return u(b)},children:k.jsx(c("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:r,color:"ig-primary-text","data-testid":void 0,size:16})})},b[23]=r,b[24]=u,b[25]=m):m=b[25];b[26]!==p||b[27]!==o||b[28]!==m?(e=k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:p,popoverProps:o,popoverResource:l,popoverType:"menu",position:"above",children:m}),b[26]=p,b[27]=o,b[28]=m,b[29]=e):e=b[29];return e}g["default"]=a}),226);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(11),e=a.message,f=c("useIGDSToaster")();b[0]!==f?(a=function(){f.add({message:h._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},b[0]=f,b[1]=a):a=b[1];a=a;var g=c("useMWV2SubmitFeedbackAction")(e.botResponseId,a);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),b[2]=a):a=b[2];a=c("useIGDSLazyDialog")(a,k);var i=a[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Bad response"),b[3]=a):a=b[3];a=a;var l;b[4]!==e||b[5]!==g||b[6]!==i?(l=function(){i({message:e,onSubmit:g},c("emptyFunction"))},b[4]=e,b[5]=g,b[6]=i,b[7]=l):l=b[7];l=l;var m;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[8]=m):m=b[8];b[9]!==l?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:l,children:m}),b[9]=l,b[10]=a):a=b[10];return a}function k(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(15);a=a.message;var e=c("useIGDSToaster")(),f;b[0]!==e?(f=function(){e.add({message:h._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},b[0]=e,b[1]=f):f=b[1];f=f;var g=c("useMWV2SubmitFeedbackAction")(a.botResponseId,f);f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=(a=a.botResponseId)!=null?a:"";var i;b[2]!==a?(i={botResponseId:a},b[2]=a,b[3]=i):i=b[3];b[4]!==f||b[5]!==i?(a={extraData:i,flowInstanceId:f},b[4]=f,b[5]=i,b[6]=a):a=b[6];f=a;var k=f,l=c("MessengerWebUXLogger").useInteractionLogger();b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Good response"),b[7]=i):i=b[7];a=i;b[8]!==k||b[9]!==l||b[10]!==g?(f=function(){g(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),l==null||l(babelHelpers["extends"]({eventName:"submit_positive_feedback"},k))},b[8]=k,b[9]=l,b[10]=g,b[11]=f):f=b[11];i=f;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[12]=f):f=b[12];b[13]!==i?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:i,children:f}),b[13]=i,b[14]=a):a=b[14];return a}g["default"]=a}),226);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","ReQL","ReQLSuspense","UnicodeUtils","cr:8247","cr:8257","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDGlobalReactMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));k.useCallback;function a(a){var e=d("react-compiler-runtime").c(29),g=a.message,k=a.outgoing,m=a.setReactionsMenuOpen,n=(i||(i=c("useReStore")))();e[0]!==n.tables.contacts||e[1]!==g.senderId?(a=function(){return d("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(g.senderId)},e[0]=n.tables.contacts,e[1]=g.senderId,e[2]=a):a=e[2];var o;e[3]!==n||e[4]!==g.senderId?(o=[n,g.senderId],e[3]=n,e[4]=g.senderId,e[5]=o):o=e[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":46");var p=d("MWLSThread").useThread(g.threadKey);o=(o=a==null?void 0:a.name)!=null?o:a==null?void 0:a.secondaryName;var q=(a=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(g.messageId,g.threadKey))==null?void 0:a.reaction,r=c("useIGDGlobalReactMessage")(g,"reaction_tray");e[6]!==q||e[7]!==r?(a=function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(q!=null){var e=(j||(j=d("UnicodeUtils"))).getCodePoints(q);b===q&&(b=void 0);e[0]===10084&&a[0]===10084&&(b=void 0)}c("promiseDone")(r(b,"reaction"))},e[6]=q,e[7]=r,e[8]=a):a=e[8];a=a;k=k?"end":"start";var s;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"React"),e[9]=s):s=e[9];s=s;var t=c("MessengerWebUXLogger").useInteractionLogger(),u=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),v,w;e[10]!==u||e[11]!==t||e[12]!==g.messageId||e[13]!==p?(v=function(a){a(),p&&(t==null||t({eventName:"reaction_open_emoji_picker",extraData:{message_id:g.messageId},flowInstanceId:u}))},w=[p,t,g.messageId,u],e[10]=u,e[11]=t,e[12]=g.messageId,e[13]=p,e[14]=v,e[15]=w):(v=e[14],w=e[15]);v=d("Int64Hooks").useCallbackInt64(v,w);e[16]!==o?(w=h._(/*BTDS*/"React to message from {sender name}",[h._param("sender name",o)]),e[16]=o,e[17]=w):w=e[17];o=w;e[18]!==m?(w=function(a){return m(function(){return a})},e[18]=m,e[19]=w):w=e[19];w=w;k=k;e[20]!==v||e[21]!==a||e[22]!==o||e[23]!==k?(s={align:k,altLabel:o,label:s,onClickAction:v,onClose:c("emptyFunction"),onSelect:a},e[20]=v,e[21]=a,e[22]=o,e[23]=k,e[24]=s):s=e[24];v=s;e[25]!==w||e[26]!==q||e[27]!==v?(a=b("cr:8257")?l.jsx(b("cr:8257"),babelHelpers["extends"]({},v,{selectedReaction:q!=null?(j||(j=d("UnicodeUtils"))).getCodePoints(q):null})):b("cr:8247")?l.jsx(b("cr:8247"),babelHelpers["extends"]({},v,{onVisibilityChange:w})):null,e[25]=w,e[26]=q,e[27]=v,e[28]=a):a=e[28];return a}g["default"]=a}),226);
__d("IGDMessageReactionButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("IGDMessageReactionButtonLazyLoadPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.align,f=a.altLabel,g=a.closeAfterSelect,h=a.label,k=a.onClickAction,l=a.onClose,m=a.onSelect,n=a.onVisibilityChange,o=a.showPopoverArrow;a=a.useMenuItem;g=g===void 0?!0:g;o=o===void 0?!1:o;var p=a===void 0?!1:a;b[0]!==g||b[1]!==l||b[2]!==m||b[3]!==o?(a={closeAfterSelect:g,onClose:l,onSelect:m,showPopoverArrow:o},b[0]=g,b[1]=l,b[2]=m,b[3]=o,b[4]=a):a=b[4];b[5]!==f||b[6]!==h||b[7]!==k||b[8]!==p?(g=function(a,b){return p?i.jsx(c("IGDSBox.react"),{containerRef:a,children:i.jsx(c("IGDMessageContextMenuItem.react"),{icon:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,size:18}),label:h,onClick:function(){return k(b)}})}):i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:h,onClick:function(){return k(b)},children:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16})})},b[5]=f,b[6]=h,b[7]=k,b[8]=p,b[9]=g):g=b[9];b[10]!==e||b[11]!==n||b[12]!==a||b[13]!==g?(l=i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e,onVisibilityChange:n,popoverProps:a,popoverResource:j,popoverType:"dialog",position:"above",children:g}),b[10]=e,b[11]=n,b[12]=a,b[13]=g,b[14]=l):l=b[14];return l}g["default"]=a}),98);
__d("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("IGDReactionTray.react").__setRef("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.align,f=a.altLabel,g=a.label,h=a.onClickAction,k=a.onClose,l=a.onSelect,m=a.onVisibilityChange,n=a.selectedReaction;a=a.useMenuItem;var o=a===void 0?!1:a;b[0]!==k||b[1]!==l||b[2]!==n?(a={onClose:k,onSelect:l,selectedReaction:n},b[0]=k,b[1]=l,b[2]=n,b[3]=a):a=b[3];b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==o?(k=function(a,b){return o?i.jsx(c("IGDSBox.react"),{containerRef:a,children:i.jsx(c("IGDMessageContextMenuItem.react"),{icon:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,size:18}),label:g,onClick:function(){return h(b)}})}):i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:g,onClick:function(){return h(b)},children:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16})})},b[4]=f,b[5]=g,b[6]=h,b[7]=o,b[8]=k):k=b[8];b[9]!==e||b[10]!==m||b[11]!==a||b[12]!==k?(l=i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e,onVisibilityChange:m,popoverProps:a,popoverResource:j,position:"above",children:k}),b[9]=e,b[10]=m,b[11]=a,b[12]=k,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDMessageReply.react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.message,g=a.onClose;a=a.thread;var j=(i||(i=c("useReStore")))(),l;b[0]!==j.tables.contacts||b[1]!==e.senderId?(l=function(){return d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(e.senderId)},b[0]=j.tables.contacts,b[1]=e.senderId,b[2]=l):l=b[2];var m;b[3]!==j||b[4]!==e.senderId?(m=[j,e.senderId],b[3]=j,b[4]=e.senderId,b[5]=m):m=b[5];l=d("ReQLSuspense").useFirst(l,m,f.id+":41");m=(m=l==null?void 0:l.name)!=null?m:l==null?void 0:l.secondaryName;l=c("useIGDMessageReply.react")(e,a,g);g=l[0];l=l[1];var n;b[6]!==m?(n=h._(/*BTDS*/"Reply to message from {sender name}",[h._param("sender name",m)]),b[6]=m,b[7]=n):n=b[7];m=n;n=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);if(!d("IGDInstamadilloUtils").shouldRenderMessageReply(e,n))return null;b[8]!==m?(a=k.jsx(c("IGDSReplyPanoOutline24Icon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0,size:16}),b[8]=m,b[9]=a):a=b[9];b[10]!==g||b[11]!==l||b[12]!==a?(n=k.jsx(c("IGDMessageButton.react"),{label:l,onClick:g,children:a}),b[10]=g,b[11]=l,b[12]=a,b[13]=n):n=b[13];return n}g["default"]=a}),226);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();b=b.canUnsendMessage;if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;a=a.cannotUnsendReason!=null?(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return b&&a}g["default"]=a}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var g=(h||(h=c("useReStore")))();e=c("useIsGenAiFeedbackEnabled")(b,e);var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(a)},[g,a],f.id+":43"),j=c("useGenAIFeedbackSubmissionStatus")(b);return e&&(i==null?void 0:i.botResponseId)===b&&j==null}g["default"]=a}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsCannesThread.react","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useContext,n=e.useState,o=c("gkx")("4253")===!0,p=[(k||(k=d("LSIntEnum"))).ofNumber(1),k.ofNumber(16384),k.ofNumber(2),k.ofNumber(4)];function q(a){var e=d("react-compiler-runtime").c(94),g=a.isMessageHidden,i=a.message,m=a.onMessageUnhide,n=a.outgoing,q=a.setReactionsMenuOpen;a=a.thread;var r=(h||(h=c("useReStore")))(),s=d("MWPActor.react").useActor(),t=c("useIsThreadBlocked")(),u=c("useIsReadOnlyFeatureLimited")(),v=a.threadKey,w=a.threadType,x=i.displayedContentTypes,y=i.senderId,z;e[0]!==r.tables.contacts||e[1]!==y?(z=function(){return d("ReQL").fromTableAscending(r.tables.contacts,["blockedByViewerStatus"].concat(d("LSContactBitOffset").contactCapabilityFields)).getKeyRange(y)},e[0]=r.tables.contacts,e[1]=y,e[2]=z):z=e[2];var A;e[3]!==r||e[4]!==y?(A=[r,y],e[3]=r,e[4]=y,e[5]=A):A=e[5];z=d("ReQLSuspense").useFirst(z,A,f.id+":101");A=c("useIGDMessageAttachment")(r,i,v);var B=A.attachment;A=A.hasMultipleAttachments;v=c("useIGDIsCannesThread.react")(v,w);var C;e[6]!==s||e[7]!==y?(C=(j||(j=d("I64"))).equal(y,s),e[6]=s,e[7]=y,e[8]=C):C=e[8];s=C;C=!s&&d("LSMessagingThreadTypeUtil").isOneToOne(w)&&z!=null?!(j||(j=d("I64"))).equal(z.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;e[9]!==z?(w=z!=null&&d("LSContactBitOffset").has(66,z),e[9]=z,e[10]=w):w=e[10];w=w;var D;e[11]!==z?(D=z!=null&&d("LSContactBitOffset").has(18,z),e[11]=z,e[12]=D):D=e[12];z=D;e[13]!==a?(D=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),e[13]=a,e[14]=D):D=e[14];D=D;var E;e[15]!==x||e[16]!==s||e[17]!==z?(E=z&&!s&&p.findIndex(function(a){return(j||(j=d("I64"))).equal(x,a)})!==-1,e[15]=x,e[16]=s,e[17]=z,e[18]=E):E=e[18];z=E;e[19]!==B?(E=B!=null&&((j||(j=d("I64"))).equal(B.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(B.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),e[19]=B,e[20]=E):E=e[20];E=E;var F;e[21]!==B?(F=B!=null&&(j||(j=d("I64"))).equal(B.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),e[21]=B,e[22]=F):F=e[22];F=F;var G;e[23]!==B?(G=B!=null&&(j||(j=d("I64"))).equal(B.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)),e[23]=B,e[24]=G):G=e[24];G=G;var H;e[25]!==x||e[26]!==E?(H=(j||(j=d("I64"))).equal(x,d("LSBitFlag").empty)&&!E,e[25]=x,e[26]=E,e[27]=H):H=e[27];H=H;s=c("useMWPCanRemoveMessageGlobally")(i)&&s;var I;e[28]!==B?(I=B!=null&&(j||(j=d("I64"))).equal(B.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?B.isSharable:!0,e[28]=B,e[29]=I):I=e[29];B=I;I=i.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(i.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;var J;e[30]!==x?(J=(j||(j=d("I64"))).equal(x,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(x,(k||(k=d("LSIntEnum"))).ofNumber(1033)),e[30]=x,e[31]=J):J=e[31];J=J;J=!g&&(J||I&&!!i.text);e[32]!==A||e[33]!==G||e[34]!==F||e[35]!==t||e[36]!==E||e[37]!==g||e[38]!==D||e[39]!==H||e[40]!==C||e[41]!==u||e[42]!==w||e[43]!==B||e[44]!==i.displayedContentTypes||e[45]!==i.isUnsent||e[46]!==a?(I=!g&&!t&&!w&&!D&&!u&&!i.isUnsent&&!H&&d("LSThreadBitOffset").has(103,a)&&B&&!C&&!(j||(j=d("I64"))).equal(i.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(256))&&!E&&!F&&!G&&!A,e[32]=A,e[33]=G,e[34]=F,e[35]=t,e[36]=E,e[37]=g,e[38]=D,e[39]=H,e[40]=C,e[41]=u,e[42]=w,e[43]=B,e[44]=i.displayedContentTypes,e[45]=i.isUnsent,e[46]=a,e[47]=I):I=e[47];A=I;G=c("useIsGenAiFeedbackEnabled")(i.botResponseId,o);F=c("useGenAIFeedbackSubmissionStatus")(i.botResponseId);E=G&&F==null;e[48]!==E?(C=!d("PolarisUA").isMobile()&&E,e[48]=E,e[49]=C):C=e[49];B=C;e[50]!==i||e[51]!==B?(I=B&&b("cr:3552")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3552"),{message:i})}):null,e[50]=i,e[51]=B,e[52]=I):I=e[52];G=I;e[53]!==i||e[54]!==B?(F=B&&b("cr:3505")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3505"),{message:i})}):null,e[53]=i,e[54]=B,e[55]=F):F=e[55];E=F;e[56]!==t||e[57]!==v||e[58]!==g||e[59]!==D||e[60]!==H||e[61]!==u||e[62]!==w||e[63]!==i.isUnsent||e[64]!==B||e[65]!==a?(C=!g&&!t&&!w&&!D&&!u&&d("LSThreadBitOffset").has(42,a)&&!i.isUnsent&&!H&&!B&&!v,e[56]=t,e[57]=v,e[58]=g,e[59]=D,e[60]=H,e[61]=u,e[62]=w,e[63]=i.isUnsent,e[64]=B,e[65]=a,e[66]=C):C=e[66];I=C;e[67]!==a?(F=d("LSThreadBitOffset").has(18,a),e[67]=a,e[68]=F):F=e[68];C=F;F=d("LSThreadBitOffset").has(139,a);var K;e[69]!==a?(K=d("LSThreadBitOffset").has(169,a),e[69]=a,e[70]=K):K=e[70];K=K;t=!g&&!t&&!w&&!D&&!u&&!i.isUnsent&&!H&&(F?K:C)&&!B&&!v;w=c("gkx")("24015");D=w||!H&&(A||s||J||z);e[71]!==t||e[72]!==i||e[73]!==n||e[74]!==q?(u=t?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReactionButton.react"),{message:i,outgoing:n,setReactionsMenuOpen:q})}):null,e[71]=t,e[72]=i,e[73]=n,e[74]=q,e[75]=u):u=e[75];F=u;e[76]!==I||e[77]!==i||e[78]!==a?(K=I?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReplyButton.react"),{message:i,thread:a})}):null,e[76]=I,e[77]=i,e[78]=a,e[79]=K):K=e[79];C=K;e[80]!==g||e[81]!==i||e[82]!==m||e[83]!==n||e[84]!==D||e[85]!==a?(B=D?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageMoreContextMenuButton.react"),{isMessageHidden:g,message:i,onMessageUnhide:m,outgoing:n,thread:a})}):null,e[80]=g,e[81]=i,e[82]=m,e[83]=n,e[84]=D,e[85]=a,e[86]=B):B=e[86];v=B;e[87]!==v||e[88]!==E||e[89]!==n||e[90]!==G||e[91]!==F||e[92]!==C?(w=l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:n,children:[G,E,F,C,v]}),e[87]=v,e[88]=E,e[89]=n,e[90]=G,e[91]=F,e[92]=C,e[93]=w):w=e[93];return w}function r(a){var b=d("react-compiler-runtime").c(17),e=a.ariaHidden,f=a.focused,g=a.hidden,h=a.hovered,i=a.isMessageHidden,j=a.message,k=a.onMessageUnhide,o=a.outgoing;a=a.thread;e=e===void 0?!1:e;g=g===void 0?!1:g;var p=n(!1),r=p[0];p=p[1];var s=c("useIsGenAiFeedbackEnabled")(j.botResponseId,c("gkx")("4253")===!0),t=c("useGenAIFeedbackSubmissionStatus")(j.botResponseId),u=c("useIGDIsGenAiReelsPlugin")(j),v=c("useShowPersistentGenAIFeedbackButtons")(j.threadKey,j.botResponseId,c("gkx")("4253")===!0),w;b[0]!==t||b[1]!==s||b[2]!==u||b[3]!==v?(w=u?!1:d("PolarisUA").isMobile()?s&&t==null:v,b[0]=t,b[1]=s,b[2]=u,b[3]=v,b[4]=w):w=b[4];t=w;s=h||f||r;u=m(d("MAWEditMessageContext.react").Context);v=u.editMessageData;w=v!=null;h=!g&&(s||t)&&!w;f=s===!0?"full":"partial";b[5]!==i||b[6]!==j||b[7]!==k||b[8]!==o||b[9]!==h||b[10]!==a?(r=h?l.jsx(q,{isMessageHidden:i,message:j,onMessageUnhide:k,outgoing:o,setReactionsMenuOpen:p,thread:a}):null,b[5]=i,b[6]=j,b[7]=k,b[8]=o,b[9]=h,b[10]=a,b[11]=r):r=b[11];b[12]!==e||b[13]!==o||b[14]!==f||b[15]!==r?(u=l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:e,outgoing:o,visibility:f,children:r}),b[12]=e,b[13]=o,b[14]=f,b[15]=r,b[16]=u):u=b[16];return u}function a(a){var b=d("react-compiler-runtime").c(19),e=a.ariaHidden,g=a.focused,i=a.hidden,j=a.hovered,k=a.isMessageHidden,m=a.message,n=a.onMessageUnhide;a=a.outgoing;e=e===void 0?!1:e;i=i===void 0?!1:i;var o=(h||(h=c("useReStore")))(),p;b[0]!==o.tables.threads||b[1]!==m.threadKey?(p=function(){return d("ReQL").fromTableAscending(o.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(m.threadKey)},b[0]=o.tables.threads,b[1]=m.threadKey,b[2]=p):p=b[2];var q;b[3]!==o||b[4]!==m.threadKey?(q=[o,m.threadKey],b[3]=o,b[4]=m.threadKey,b[5]=q):q=b[5];p=d("ReQLSuspense").useFirst(p,q,f.id+":445");b[6]!==m?(q=d("IGDInstamadilloUtils").canMutateIGDMessage(m),b[6]=m,b[7]=q):q=b[7];q=q;var s;b[8]!==e||b[9]!==q||b[10]!==g||b[11]!==i||b[12]!==j||b[13]!==k||b[14]!==m||b[15]!==n||b[16]!==a||b[17]!==p?(s=p!=null&&q?l.jsx(r,{ariaHidden:e,focused:g,hidden:i,hovered:j,isMessageHidden:k,message:m,onMessageUnhide:n,outgoing:a,thread:p}):null,b[8]=e,b[9]=q,b[10]=g,b[11]=i,b[12]=j,b[13]=k,b[14]=m,b[15]=n,b[16]=a,b[17]=p,b[18]=s):s=b[18];return s}g["default"]=a}),98);