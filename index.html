<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlogHub | Share Your Stories</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables */
        :root {
            --primary-bg: #0a0a1a;
            --secondary-bg: #15152b;
            --accent-color: #3498db;
            --accent-dark: #2980b9;
            --text-color: #ffffff;
            --text-secondary: #b0b0cc;
            --card-bg: #1e1e3a;
            --hover-color: #4aa8e8;
            --transition: all 0.3s ease;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --error-color: #e74c3c;
            --border-radius: 8px;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--text-color);
            line-height: 1.6;
        }

        a {
            text-decoration: none;
            color: var(--accent-color);
            transition: var(--transition);
        }

        button {
            cursor: pointer;
            border: none;
            outline: none;
            transition: var(--transition);
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--secondary-bg);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(52, 152, 219, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 {
            font-size: 1.8rem;
            background: linear-gradient(to right, var(--accent-color), #4aa8e8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo i {
            color: var(--accent-color);
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        nav a {
            color: var(--text-color);
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
        }

        nav a:hover {
            color: var(--accent-color);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent-color);
            transition: var(--transition);
        }

        nav a:hover::after {
            width: 100%;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            background-size: cover;
            background-position: center;
        }

        .logout-btn {
            background-color: transparent;
            color: var(--text-color);
            border: 1px solid var(--accent-color);
            padding: 0.5rem 1rem;
            border-radius: 4px;
        }

        .logout-btn:hover {
            background-color: var(--accent-color);
            color: var(--primary-bg);
        }

        .create-article-btn {
            background-color: var(--success-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            margin-right: 10px;
        }

        .create-article-btn:hover {
            background-color: #27ae60;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            color: var(--text-color);
            font-size: 1.5rem;
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            background-color: var(--secondary-bg);
            padding: 1rem;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            z-index: 99;
        }

        .mobile-nav.active {
            display: block;
        }

        .mobile-nav ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-nav a {
            color: var(--text-color);
            padding: 0.5rem 0;
            display: block;
        }

        /* Main Content Styles */
        main {
            min-height: calc(100vh - 160px);
            padding: 2rem 0;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Login/Signup Page */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }

        .auth-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            width: 100%;
            max-width: 450px;
            text-align: center;
        }

        .auth-card h2 {
            margin-bottom: 1.5rem;
            color: var(--accent-color);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #333;
        }

        .auth-tab {
            flex: 1;
            padding: 0.8rem;
            background: none;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .auth-tab.active {
            color: var(--accent-color);
            border-bottom: 2px solid var(--accent-color);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-color);
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: var(--accent-color);
        }

        .auth-btn {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--accent-color);
            color: var(--primary-bg);
            border-radius: 4px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .auth-btn:hover {
            background-color: var(--hover-color);
        }

        .social-login {
            margin-top: 1.5rem;
            border-top: 1px solid #333;
            padding-top: 1.5rem;
        }

        .social-login p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .social-buttons {
            display: flex;
            gap: 1rem;
        }

        .social-btn {
            flex: 1;
            padding: 0.8rem;
            border-radius: 4px;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .google-btn {
            background-color: #db4437;
            color: white;
        }

        .facebook-btn {
            background-color: #4267B2;
            color: white;
        }

        .social-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* Home Page */
        .hero {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(rgba(10,10,26,0.8), rgba(10,10,26,0.8)), url('https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            color: var(--text-secondary);
        }

        .cta-btn {
            background-color: var(--accent-color);
            color: var(--primary-bg);
            padding: 0.8rem 2rem;
            border-radius: 4px;
            font-weight: 600;
            display: inline-block;
        }

        .cta-btn:hover {
            background-color: var(--hover-color);
            transform: translateY(-3px);
        }

        .section-title {
            margin: 2rem 0 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--accent-color);
        }

        .quote-of-day {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            border-left: 4px solid var(--accent-color);
        }

        .quote-content {
            font-style: italic;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .quote-author {
            text-align: right;
            color: var(--accent-color);
            font-weight: 500;
        }

        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .category {
            background-color: var(--card-bg);
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            font-weight: 500;
            transition: var(--transition);
        }

        .category:hover {
            background-color: var(--accent-color);
            color: var(--primary-bg);
            transform: translateY(-3px);
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .article-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.1);
        }

        .article-img {
            height: 180px;
            background-color: #333;
            background-size: cover;
            background-position: center;
        }

        .article-content {
            padding: 1.5rem;
        }

        .article-content h3 {
            margin-bottom: 0.5rem;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .article-excerpt {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .article-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .read-more {
            color: var(--accent-color);
            font-weight: 500;
        }

        .read-more:hover {
            color: var(--hover-color);
        }

        .rating {
            display: flex;
            gap: 5px;
        }

        .star {
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .star:hover, .star.active {
            color: var(--warning-color);
        }

        /* Create Article Page */
        .create-article-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .create-article-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }

        .create-article-card h2 {
            margin-bottom: 1.5rem;
            color: var(--accent-color);
        }

        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        .form-group-full {
            margin-bottom: 1rem;
        }

        .form-group-full label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-group-full textarea {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-color);
            resize: vertical;
            min-height: 200px;
        }

        .form-group-full textarea:focus {
            border-color: var(--accent-color);
        }

        .tags-input {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tag {
            background-color: var(--secondary-bg);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .tag-remove {
            cursor: pointer;
            color: var(--error-color);
        }

        .tag-input {
            flex: 1;
            min-width: 100px;
            padding: 0.3rem;
            background-color: transparent;
            border: none;
            color: var(--text-color);
        }

        .tag-input:focus {
            outline: none;
        }

        .publish-btn {
            background-color: var(--success-color);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 4px;
            font-weight: 600;
            margin-top: 1rem;
        }

        .publish-btn:hover {
            background-color: #27ae60;
        }

        /* About Page */
        .about-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .writer-info {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .writer-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--accent-color);
            flex-shrink: 0;
            background-size: cover;
            background-position: center;
        }

        .writer-details {
            flex: 1;
        }

        .writer-details h2 {
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .writer-details p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .social-links-about {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link-about {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            transition: var(--transition);
        }

        .social-link-about:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
        }

        /* Articles Page */
        .search-bar {
            margin-bottom: 2rem;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            background-color: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-color);
        }

        .search-bar i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        /* Article Detail Page */
        .article-detail {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .article-header {
            margin-bottom: 1.5rem;
        }

        .article-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .article-meta-detail {
            display: flex;
            gap: 1rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .article-image {
            width: 100%;
            height: 400px;
            background-color: #333;
            background-size: cover;
            background-position: center;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
        }

        .article-body {
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .article-body p {
            margin-bottom: 1rem;
        }

        .article-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .tag {
            background-color: var(--secondary-bg);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .article-actions-detail {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #333;
        }

        .rating-detail {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
        }

        .rating-count {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .comments-section {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
        }

        .comments-title {
            margin-bottom: 1.5rem;
            color: var(--accent-color);
        }

        .comment-form {
            margin-bottom: 2rem;
        }

        .comment-input {
            width: 100%;
            padding: 1rem;
            background-color: var(--secondary-bg);
            border: 1px solid #333;
            border-radius: 4px;
            color: var(--text-color);
            margin-bottom: 1rem;
            resize: vertical;
            min-height: 100px;
        }

        .comment-submit {
            background-color: var(--accent-color);
            color: var(--primary-bg);
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
        }

        .comment-submit:hover {
            background-color: var(--hover-color);
        }

        .comments-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .comment {
            padding: 1rem;
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .comment-author {
            font-weight: 600;
            color: var(--accent-color);
        }

        .comment-date {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .comment-text {
            color: var(--text-color);
        }

        /* Profile Page */
        .profile-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: var(--card-shadow);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .profile-avatar-upload {
            position: absolute;
            bottom: 0;
            right: 0;
            background-color: var(--accent-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .profile-details h2 {
            margin-bottom: 0.5rem;
        }

        .profile-details p {
            color: var(--text-secondary);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat {
            text-align: center;
            padding: 1rem;
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .profile-bio {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
        }

        .profile-bio h3 {
            margin-bottom: 0.5rem;
            color: var(--accent-color);
        }

        .profile-articles {
            margin-top: 2rem;
        }

        .profile-articles h3 {
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        /* Settings Page */
        .settings-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: var(--card-shadow);
        }

        .settings-group {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #333;
        }

        .settings-group h3 {
            margin-bottom: 1.5rem;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-group h3 i {
            font-size: 1.2rem;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-item-label {
            flex: 1;
        }

        .setting-item-label h4 {
            margin-bottom: 0.3rem;
        }

        .setting-item-label p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: var(--transition);
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--accent-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .color-picker {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .color-option.active {
            border-color: white;
            transform: scale(1.1);
        }

        .font-option {
            padding: 8px 15px;
            border-radius: 4px;
            background-color: var(--secondary-bg);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        .font-option.active {
            border-color: var(--accent-color);
            background-color: rgba(52, 152, 219, 0.1);
        }

        .font-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .layout-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .layout-option {
            flex: 1;
            padding: 15px;
            border-radius: var(--border-radius);
            background-color: var(--secondary-bg);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
            text-align: center;
        }

        .layout-option.active {
            border-color: var(--accent-color);
            background-color: rgba(52, 152, 219, 0.1);
        }

        .layout-option i {
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .card-style-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .card-style-option {
            flex: 1;
            padding: 15px;
            border-radius: var(--border-radius);
            background-color: var(--secondary-bg);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
            text-align: center;
        }

        .card-style-option.active {
            border-color: var(--accent-color);
            background-color: rgba(52, 152, 219, 0.1);
        }

        .card-style-option i {
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .logout-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #333;
        }

        .logout-btn-settings {
            background-color: var(--error-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
        }

        .logout-btn-settings:hover {
            background-color: #c0392b;
        }

        .danger-zone {
            border: 1px solid var(--error-color);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .danger-zone h3 {
            color: var(--error-color);
            margin-bottom: 1rem;
        }

        .danger-zone p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .delete-account-btn {
            background-color: var(--error-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
        }

        .delete-account-btn:hover {
            background-color: #c0392b;
        }

        .follow-btn {
            background-color: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .follow-btn:hover {
            background-color: var(--hover-color);
        }

        .follow-btn.following {
            background-color: var(--success-color);
        }

        .user-actions {
            display: flex;
            margin-top: 1rem;
            gap: 10px;
        }

        .suggestions-section {
            margin-top: 2rem;
        }

        .suggestions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .suggestion-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--card-shadow);
        }

        .suggestion-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 1rem;
            background-size: cover;
            background-position: center;
        }

        .suggestion-stats {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .engagement-metrics {
            display: flex;
            justify-content: space-between;
            margin: 1rem 0;
            padding: 0.5rem 0;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-color);
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .comment-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .comment-stars {
            display: flex;
            gap: 2px;
        }

        .comment-star {
            color: var(--warning-color);
            font-size: 0.9rem;
        }

        .profile-picture-upload {
            display: none;
        }

        /* Footer Styles */
        footer {
            background-color: var(--secondary-bg);
            padding: 2rem 0;
            margin-top: 2rem;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            transition: var(--transition);
        }

        .social-link:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
        }

        .copyright {
            color: var(--text-secondary);
            text-align: center;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .writer-info {
                flex-direction: column;
                text-align: center;
            }

            .writer-photo {
                width: 150px;
                height: 150px;
                font-size: 3rem;
            }

            .hero h2 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-stats {
                grid-template-columns: 1fr;
            }

            .suggestions-grid {
                grid-template-columns: 1fr;
            }

            .user-actions {
                flex-direction: column;
                gap: 0.5rem;
            }

            .follow-btn {
                width: 100%;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .layout-options, .card-style-options {
                flex-direction: column;
            }

            .font-options {
                justify-content: center;
            }

            .color-picker {
                justify-content: center;
            }

            .article-detail {
                padding: 1rem;
            }

            .article-title {
                font-size: 1.5rem;
            }

            .article-image {
                height: 200px;
            }

            .article-actions-detail {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .rating-detail {
                width: 100%;
                justify-content: space-between;
            }

            .comments-section {
                padding: 1rem;
            }

            .settings-card {
                padding: 1rem;
            }

            .setting-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .toggle-switch {
                align-self: flex-end;
            }
        }

        @media (max-width: 480px) {
            .container {
                width: 95%;
            }

            .hero {
                padding: 2rem 1rem;
            }

            .categories {
                justify-content: center;
            }

            .articles-grid {
                grid-template-columns: 1fr;
            }

            .auth-card {
                padding: 1.5rem;
            }

            .social-buttons {
                flex-direction: column;
            }

            .profile-card {
                padding: 1rem;
            }

            .create-article-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="image/logo.jpg" alt="BlogHub Logo" class="logo-img" width="20" height="20">
                <h1>BlogHub</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link" data-page="home">Home</a></li>
                    <li><a href="#" class="nav-link" data-page="about">About Us</a></li>
                    <li><a href="#" class="nav-link" data-page="articles">Articles</a></li>
                    <li><a href="#" class="nav-link" data-page="create-article">Write</a></li>
                    <li><a href="#" class="nav-link" data-page="profile">Profile</a></li>
                    <li><a href="#" class="nav-link" data-page="settings">Settings</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="user-info" id="userInfo">
                <button class="create-article-btn" id="createArticleBtn">Write</button>
                <div class="user-avatar" id="userAvatar">U</div>
                <button class="logout-btn" id="logoutBtn">Logout</button>
            </div>
        </div>
        <div class="mobile-nav" id="mobileNav">
            <ul>
                <li><a href="#" class="nav-link" data-page="home">Home</a></li>
                <li><a href="#" class="nav-link" data-page="about">About Us</a></li>
                <li><a href="#" class="nav-link" data-page="articles">Articles</a></li>
                <li><a href="#" class="nav-link" data-page="create-article">Write</a></li>
                <li><a href="#" class="nav-link" data-page="profile">Profile</a></li>
                <li><a href="#" class="nav-link" data-page="settings">Settings</a></li>
            </ul>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Login/Signup Page -->
        <section id="auth" class="page active">
            <div class="container auth-container">
                <div class="auth-card">
                    <h2>Welcome to BlogHub</h2>
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-tab="login">Login</button>
                        <button class="auth-tab" data-tab="signup">Sign Up</button>
                    </div>
                    
                    <form id="loginForm" class="auth-form active">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" placeholder="Enter your password">
                        </div>
                        <button type="submit" class="auth-btn">Login</button>
                    </form>
                    
                    <form id="signupForm" class="auth-form">
                        <div class="form-group">
                            <label for="signupName">Full Name</label>
                            <input type="text" id="signupName" placeholder="Enter your full name">
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Password</label>
                            <input type="password" id="signupPassword" placeholder="Create a password">
                        </div>
                        <div class="form-group">
                            <label for="signupBio">Bio (Optional)</label>
                            <textarea id="signupBio" placeholder="Tell us about yourself" rows="3"></textarea>
                        </div>
                        <button type="submit" class="auth-btn">Sign Up</button>
                    </form>
                    
                    <div class="social-login">
                        <p>Or continue with</p>
                        <div class="social-buttons">
                            <button class="social-btn google-btn" id="googleLogin">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button class="social-btn facebook-btn" id="facebookLogin">
                                <i class="fab fa-facebook-f"></i> Facebook
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Home Page -->
        <section id="home" class="page">
            <div class="container">
                <div class="hero">
                    <h2>Share Your Stories with the World</h2>
                    <p>BlogHub is your platform to express ideas, share experiences, and connect with like-minded readers and writers.</p>
                    <a href="#" class="cta-btn nav-link" data-page="articles">Explore Articles</a>
                </div>
                
                <div class="quote-of-day">
                    <p class="quote-content">"The only way to do great work is to love what you do."</p>
                    <p class="quote-author">- Steve Jobs</p>
                </div>
                
                <h2 class="section-title">Categories</h2>
                <div class="categories">
                    <div class="category">Technology</div>
                    <div class="category">Lifestyle</div>
                    <div class="category">Travel</div>
                    <div class="category">Food</div>
                    <div class="category">Health</div>
                    <div class="category">Business</div>
                    <div class="category">Entertainment</div>
                    <div class="category">Science</div>
                </div>
                
                <h2 class="section-title">Featured Articles</h2>
                <div class="articles-grid" id="featuredArticles">
                    <!-- Featured articles will be dynamically loaded here -->
                </div>

                <!-- User Suggestions for First-Time Users -->
                <div class="suggestions-section" id="suggestionsSection" style="display: none;">
                    <h2 class="section-title">People You May Know</h2>
                    <p>Connect with other writers and readers to expand your network.</p>
                    <div class="suggestions-grid" id="suggestionsGrid">
                        <!-- User suggestions will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Create Article Page -->
        <section id="create-article" class="page">
            <div class="container create-article-container">
                <div class="create-article-card">
                    <h2>Create New Article</h2>
                    <form id="createArticleForm">
                        <div class="form-group">
                            <label for="articleTitle">Title</label>
                            <input type="text" id="articleTitle" placeholder="Enter article title">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="articleCategory">Category</label>
                                <select id="articleCategory">
                                    <option value="">Select Category</option>
                                    <option value="Technology">Technology</option>
                                    <option value="Lifestyle">Lifestyle</option>
                                    <option value="Travel">Travel</option>
                                    <option value="Food">Food</option>
                                    <option value="Health">Health</option>
                                    <option value="Business">Business</option>
                                    <option value="Entertainment">Entertainment</option>
                                    <option value="Science">Science</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="articleImage">Featured Image URL</label>
                                <input type="text" id="articleImage" placeholder="Enter image URL">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="articleExcerpt">Excerpt</label>
                            <textarea id="articleExcerpt" placeholder="Brief description of your article" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group-full">
                            <label for="articleContent">Content</label>
                            <textarea id="articleContent" placeholder="Write your article content here..." rows="15"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="articleTags">Tags</label>
                            <div class="tags-input" id="tagsContainer">
                                <input type="text" id="articleTags" class="tag-input" placeholder="Add tags...">
                            </div>
                            <div id="tagsList" class="tags-input"></div>
                        </div>
                        
                        <button type="submit" class="publish-btn">Publish Article</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- About Us Page -->
        <section id="about" class="page">
            <div class="container">
                <h2 class="section-title">About Us</h2>
                <div class="about-content">
                    <div class="writer-info">
                        <div class="writer-photo">
                            <img src="image/rabi.jpg" alt="Science image" width="250" height="250">

                        </div>
                        <div class="writer-details">
                            <h2>Rabi</h2>
                            <p>Rabi is a passionate writer and content creator with over 1 years of experience in the blogging industry. With a background in UI/Ux design, graphics design, coding, and digital marketing, Rabi brings a unique perspective to every piece of content.</p>
                            <p>When not writing, Rabi enjoys photography, hiking, and exploring new coffee shops around the city. The goal is to create a community where ideas can be shared freely and creativity can flourish.</p>
                            <p>Through BlogHub, Rabi hopes to inspire others to share their stories and connect with a global audience of readers and writers.</p>
                            
                            <div class="social-links-about">
                                <a href="#" class="social-link-about">
                                    <i class="fab fa-twitter"></i>
                                </a>
                                <a href="#" class="social-link-about">
                                    <i class="fab fa-linkedin-in"></i>
                                </a>
                                <a href="#" class="social-link-about">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Articles Page -->
        <section id="articles" class="page">
            <div class="container">
                <h2 class="section-title">All Articles</h2>
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search articles...">
                </div>
                <div class="articles-grid" id="allArticles">
                    <!-- All articles will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Article Detail Page -->
        <section id="article-detail" class="page">
            <div class="container">
                <div class="article-detail">
                    <div class="article-header">
                        <h1 class="article-title" id="detailTitle">Article Title</h1>
                        <div class="article-meta-detail">
                            <span id="detailAuthor">Author Name</span>
                            <span id="detailDate">May 15, 2023</span>
                            <span id="detailCategory">Technology</span>
                        </div>
                        <div class="engagement-metrics">
                            <div class="metric">
                                <div class="metric-value" id="detailReadCount">0</div>
                                <div class="metric-label">Reads</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="detailLikeCount">0</div>
                                <div class="metric-label">Likes</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="detailCommentCount">0</div>
                                <div class="metric-label">Comments</div>
                            </div>
                        </div>
                    </div>
                    <div class="article-image" id="detailImage"></div>
                    <div class="article-body" id="detailBody">
                        <!-- Article content will be dynamically loaded here -->
                    </div>
                    <div class="article-tags" id="detailTags">
                        <!-- Tags will be dynamically loaded here -->
                    </div>
                    <div class="article-actions-detail">
                        <div class="rating-detail">
                            <div class="rating-stars" id="detailRating">
                                <!-- Rating stars will be dynamically loaded here -->
                            </div>
                            <div class="rating-count" id="detailRatingCount">(0 ratings)</div>
                        </div>
                        <div class="share-buttons">
                            <button class="share-btn"><i class="fas fa-share-alt"></i> Share</button>
                            <button class="like-btn" id="likeBtn"><i class="far fa-heart"></i> Like</button>
                        </div>
                    </div>
                </div>
                
                <div class="comments-section">
                    <h3 class="comments-title">Comments</h3>
                    <div class="comment-form">
                        <textarea class="comment-input" id="commentInput" placeholder="Add your comment..."></textarea>
                        <div class="comment-rating">
                            <span>Rate this article:</span>
                            <div class="comment-stars" id="commentRating">
                                <i class="far fa-star comment-star" data-rating="1"></i>
                                <i class="far fa-star comment-star" data-rating="2"></i>
                                <i class="far fa-star comment-star" data-rating="3"></i>
                                <i class="far fa-star comment-star" data-rating="4"></i>
                                <i class="far fa-star comment-star" data-rating="5"></i>
                            </div>
                        </div>
                        <button class="comment-submit" id="commentSubmit">Post Comment</button>
                    </div>
                    <div class="comments-list" id="commentsList">
                        <!-- Comments will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile" class="page">
            <div class="container">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profileAvatar">
                            U
                            <div class="profile-avatar-upload" id="profileAvatarUpload">
                                <i class="fas fa-camera"></i>
                            </div>
                            <input type="file" id="profilePictureUpload" class="profile-picture-upload" accept="image/*">
                        </div>
                        <div class="profile-details">
                            <h2 id="profileName">User Name</h2>
                            <p id="profileEmail">user@example.com</p>
                            <p id="profileJoinDate">Member since January 2023</p>
                            <div class="user-actions">
                                <button class="follow-btn" id="profileFollowBtn">Follow</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-bio">
                        <h3>About Me</h3>
                        <p id="profileBio">This is where the user's bio will appear. They can edit this in their settings.</p>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="stat">
                            <div class="stat-value" id="profileArticlesCount">12</div>
                            <div class="stat-label">Articles</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="profileFollowersCount">356</div>
                            <div class="stat-label">Followers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="profileFollowingCount">124</div>
                            <div class="stat-label">Following</div>
                        </div>
                    </div>
                    
                    <div class="profile-articles">
                        <h3>My Articles</h3>
                        <div class="articles-grid" id="profileArticles">
                            <!-- User's articles will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Page -->
        <section id="settings" class="page">
            <div class="container">
                <div class="settings-card">
                    <h2 class="section-title">Settings</h2>
                    
                    <!-- Account Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-user-cog"></i> Account Settings</h3>
                        
                        <div class="form-group">
                            <label for="settingsProfilePicture">Profile Picture</label>
                            <input type="file" id="settingsProfilePicture" accept="image/*">
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsName">Display Name</label>
                            <input type="text" id="settingsName" placeholder="Enter your display name">
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsBio">Bio/Description</label>
                            <textarea id="settingsBio" placeholder="Tell us about yourself" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsEmail">Email Address</label>
                            <input type="email" id="settingsEmail" placeholder="Enter your email">
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsCurrentPassword">Current Password</label>
                            <input type="password" id="settingsCurrentPassword" placeholder="Enter current password">
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsNewPassword">New Password</label>
                            <input type="password" id="settingsNewPassword" placeholder="Enter new password">
                        </div>
                        
                        <div class="form-group">
                            <label for="settingsConfirmPassword">Confirm New Password</label>
                            <input type="password" id="settingsConfirmPassword" placeholder="Confirm new password">
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Two-Factor Authentication</h4>
                                <p>Add an extra layer of security to your account</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="twoFactorToggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Blog Preferences -->
                    <div class="settings-group">
                        <h3><i class="fas fa-blog"></i> Blog Preferences</h3>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Default Blog Visibility</h4>
                                <p>Set the default visibility for new blog posts</p>
                            </div>
                            <select id="blogVisibility">
                                <option value="public">Public</option>
                                <option value="private">Private</option>
                                <option value="draft">Draft</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Allow Comments</h4>
                                <p>Enable or disable comments on your posts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="commentsToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Auto Save Drafts</h4>
                                <p>Automatically save drafts while writing</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoSaveToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Post Sorting</h4>
                                <p>Default view for your posts</p>
                            </div>
                            <select id="postSorting">
                                <option value="latest">Latest</option>
                                <option value="most-viewed">Most Viewed</option>
                                <option value="trending">Trending</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Reading Time Display</h4>
                                <p>Show estimated read time on posts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="readingTimeToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Show Author Info</h4>
                                <p>Display author card at the end of posts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="authorInfoToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Enable Sharing Buttons</h4>
                                <p>Show social sharing options on posts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="sharingToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Appearance Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-palette"></i> Appearance Settings</h3>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Theme Mode</h4>
                                <p>Choose your preferred theme</p>
                            </div>
                            <select id="themeMode">
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                                <option value="system">System Default</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Accent Color</h4>
                                <p>Choose your primary highlight color</p>
                            </div>
                            <div class="color-picker">
                                <div class="color-option active" style="background-color: #3498db;" data-color="#3498db"></div>
                                <div class="color-option" style="background-color: #e74c3c;" data-color="#e74c3c"></div>
                                <div class="color-option" style="background-color: #2ecc71;" data-color="#2ecc71"></div>
                                <div class="color-option" style="background-color: #f39c12;" data-color="#f39c12"></div>
                                <div class="color-option" style="background-color: #9b59b6;" data-color="#9b59b6"></div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Font Style</h4>
                                <p>Select your preferred font family</p>
                            </div>
                            <div class="font-options">
                                <div class="font-option active" data-font="Segoe UI, Tahoma, Geneva, Verdana, sans-serif">Default</div>
                                <div class="font-option" data-font="Arial, Helvetica, sans-serif">Arial</div>
                                <div class="font-option" data-font="Georgia, serif">Georgia</div>
                                <div class="font-option" data-font="'Courier New', Courier, monospace">Courier</div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Layout Mode</h4>
                                <p>Choose your preferred layout style</p>
                            </div>
                            <div class="layout-options">
                                <div class="layout-option active" data-layout="full-width">
                                    <i class="fas fa-arrows-alt-h"></i>
                                    <span>Full Width</span>
                                </div>
                                <div class="layout-option" data-layout="boxed">
                                    <i class="fas fa-square"></i>
                                    <span>Boxed</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Blog Card Style</h4>
                                <p>Choose how your blog cards appear</p>
                            </div>
                            <div class="card-style-options">
                                <div class="card-style-option active" data-style="minimal">
                                    <i class="fas fa-th-large"></i>
                                    <span>Minimal</span>
                                </div>
                                <div class="card-style-option" data-style="bordered">
                                    <i class="fas fa-square"></i>
                                    <span>Bordered</span>
                                </div>
                                <div class="card-style-option" data-style="image-focused">
                                    <i class="fas fa-image"></i>
                                    <span>Image Focused</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notification Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>New Follower Notification</h4>
                                <p>Get notified when someone follows you</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="followerNotificationToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>New Comment Alert</h4>
                                <p>Receive alerts for new comments on your posts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="commentNotificationToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Blog Published Notification</h4>
                                <p>Get notified when your blog is published</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="publishNotificationToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Weekly Analytics Report</h4>
                                <p>Receive engagement summary by email</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="analyticsReportToggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Sound/Vibration Alert</h4>
                                <p>Enable or mute notification sound</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="soundAlertToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Social & Connection Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-share-alt"></i> Social & Connection Settings</h3>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Followers Visibility</h4>
                                <p>Control who can see your follower count</p>
                            </div>
                            <select id="followersVisibility">
                                <option value="public">Show to Everyone</option>
                                <option value="followers">Show to Followers Only</option>
                                <option value="private">Hide from Everyone</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Allow Messages</h4>
                                <p>Enable direct messages from other users</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="messagesToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Connect Social Accounts</h4>
                                <p>Link your social media accounts</p>
                            </div>
                            <div class="social-buttons">
                                <button class="social-btn google-btn">
                                    <i class="fab fa-google"></i> Connect Google
                                </button>
                                <button class="social-btn facebook-btn">
                                    <i class="fab fa-facebook-f"></i> Connect Facebook
                                </button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Auto-Share New Blogs</h4>
                                <p>Automatically post new blogs to connected accounts</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoShareToggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Privacy Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-lock"></i> Privacy Settings</h3>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Profile Visibility</h4>
                                <p>Control who can see your profile</p>
                            </div>
                            <select id="profileVisibility">
                                <option value="public">Public</option>
                                <option value="followers">Only Followers</option>
                                <option value="private">Private</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Who Can Comment</h4>
                                <p>Control who can comment on your posts</p>
                            </div>
                            <select id="commentPermissions">
                                <option value="everyone">Everyone</option>
                                <option value="followers">Followers Only</option>
                                <option value="no-one">No One</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Show Online Status</h4>
                                <p>Allow others to see when you're online</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="onlineStatusToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Blocked Users</h4>
                                <p>View and manage blocked accounts</p>
                            </div>
                            <button class="auth-btn" id="manageBlockedUsersBtn">Manage Blocked Users</button>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <h4>Download My Data</h4>
                                <p>Export all your data from BlogHub</p>
                            </div>
                            <button class="auth-btn" id="downloadDataBtn">Request Data Export</button>
                        </div>
                    </div>
                    
                    <!-- Danger Zone -->
                    <div class="danger-zone">
                        <h3><i class="fas fa-exclamation-triangle"></i> Danger Zone</h3>
                        <p>Once you delete your account, there is no going back. Please be certain.</p>
                        <button class="delete-account-btn" id="deleteAccountBtn">Delete Account</button>
                    </div>
                    
                    <button class="auth-btn" id="saveProfileBtn">Save Changes</button>
                    
                    <div class="logout-section">
                        <button class="logout-btn-settings" id="logoutBtnSettings">Logout</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div class="social-links">
                <a href="https://www.instagram.com/bloghub7/" class="social-link">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.facebook.com/profile.php?id=61573912779133" class="social-link">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.youtube.com/@Why-o2j" class="social-link" target="_blank">
                    <i class="fab fa-youtube"></i>
                </a>
            </div>
            <div class="copyright">
                <p>&copy; 2023 BlogHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script type="module">
        // Import Firebase v11 Modular SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword,
            signInWithPopup,
            GoogleAuthProvider,
            FacebookAuthProvider,
            onAuthStateChanged,
            signOut,
            updateProfile,
            updatePassword,
            EmailAuthProvider,
            reauthenticateWithCredential,
            deleteUser
        } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js";
        import { 
            getFirestore, 
            collection, 
            doc, 
            setDoc, 
            getDoc, 
            updateDoc,
            addDoc,
            query,
            where,
            getDocs,
            onSnapshot,
            orderBy,
            serverTimestamp,
            deleteDoc,
            increment
        } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";
        import { 
            getStorage,
            ref,
            uploadBytes,
            getDownloadURL
        } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-storage.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB5o_yjIq0_CNLYwsCtDTWRs0cIKhI8tlI",
            authDomain: "bloghub-cbcc4.firebaseapp.com",
            projectId: "bloghub-cbcc4",
            storageBucket: "bloghub-cbcc4.firebasestorage.app",
            messagingSenderId: "103514268951",
            appId: "1:103514268951:web:12ecf3c88e5672217e0352"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        // DOM Elements
        const authPage = document.getElementById('auth');
        const homePage = document.getElementById('home');
        const aboutPage = document.getElementById('about');
        const articlesPage = document.getElementById('articles');
        const createArticlePage = document.getElementById('create-article');
        const articleDetailPage = document.getElementById('article-detail');
        const profilePage = document.getElementById('profile');
        const settingsPage = document.getElementById('settings');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileAvatarUpload = document.getElementById('profileAvatarUpload');
        const profilePictureUpload = document.getElementById('profilePictureUpload');
        const settingsProfilePicture = document.getElementById('settingsProfilePicture');
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileBio = document.getElementById('profileBio');
        const profileJoinDate = document.getElementById('profileJoinDate');
        const profileArticlesCount = document.getElementById('profileArticlesCount');
        const profileFollowersCount = document.getElementById('profileFollowersCount');
        const profileFollowingCount = document.getElementById('profileFollowingCount');
        const profileFollowBtn = document.getElementById('profileFollowBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const logoutBtnSettings = document.getElementById('logoutBtnSettings');
        const createArticleBtn = document.getElementById('createArticleBtn');
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const createArticleForm = document.getElementById('createArticleForm');
        const googleLoginBtn = document.getElementById('googleLogin');
        const facebookLoginBtn = document.getElementById('facebookLogin');
        const navLinks = document.querySelectorAll('.nav-link');
        const featuredArticlesGrid = document.getElementById('featuredArticles');
        const allArticlesGrid = document.getElementById('allArticles');
        const profileArticlesGrid = document.getElementById('profileArticles');
        const searchInput = document.getElementById('searchInput');
        const saveProfileBtn = document.getElementById('saveProfileBtn');
        const settingsName = document.getElementById('settingsName');
        const settingsEmail = document.getElementById('settingsEmail');
        const settingsBio = document.getElementById('settingsBio');
        const settingsCurrentPassword = document.getElementById('settingsCurrentPassword');
        const settingsNewPassword = document.getElementById('settingsNewPassword');
        const settingsConfirmPassword = document.getElementById('settingsConfirmPassword');
        const twoFactorToggle = document.getElementById('twoFactorToggle');
        const suggestionsSection = document.getElementById('suggestionsSection');
        const suggestionsGrid = document.getElementById('suggestionsGrid');
        const likeBtn = document.getElementById('likeBtn');
        const commentInput = document.getElementById('commentInput');
        const commentRating = document.getElementById('commentRating');
        const commentSubmit = document.getElementById('commentSubmit');
        const detailReadCount = document.getElementById('detailReadCount');
        const detailLikeCount = document.getElementById('detailLikeCount');
        const detailCommentCount = document.getElementById('detailCommentCount');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');
        const articleTitle = document.getElementById('articleTitle');
        const articleCategory = document.getElementById('articleCategory');
        const articleImage = document.getElementById('articleImage');
        const articleExcerpt = document.getElementById('articleExcerpt');
        const articleContent = document.getElementById('articleContent');
        const articleTags = document.getElementById('articleTags');
        const tagsList = document.getElementById('tagsList');
        const deleteAccountBtn = document.getElementById('deleteAccountBtn');
        const downloadDataBtn = document.getElementById('downloadDataBtn');
        const manageBlockedUsersBtn = document.getElementById('manageBlockedUsersBtn');

        // Settings elements
        const blogVisibility = document.getElementById('blogVisibility');
        const commentsToggle = document.getElementById('commentsToggle');
        const autoSaveToggle = document.getElementById('autoSaveToggle');
        const postSorting = document.getElementById('postSorting');
        const readingTimeToggle = document.getElementById('readingTimeToggle');
        const authorInfoToggle = document.getElementById('authorInfoToggle');
        const sharingToggle = document.getElementById('sharingToggle');
        const themeMode = document.getElementById('themeMode');
        const colorOptions = document.querySelectorAll('.color-option');
        const fontOptions = document.querySelectorAll('.font-option');
        const layoutOptions = document.querySelectorAll('.layout-option');
        const cardStyleOptions = document.querySelectorAll('.card-style-option');
        const followerNotificationToggle = document.getElementById('followerNotificationToggle');
        const commentNotificationToggle = document.getElementById('commentNotificationToggle');
        const publishNotificationToggle = document.getElementById('publishNotificationToggle');
        const analyticsReportToggle = document.getElementById('analyticsReportToggle');
        const soundAlertToggle = document.getElementById('soundAlertToggle');
        const followersVisibility = document.getElementById('followersVisibility');
        const messagesToggle = document.getElementById('messagesToggle');
        const autoShareToggle = document.getElementById('autoShareToggle');
        const profileVisibility = document.getElementById('profileVisibility');
        const commentPermissions = document.getElementById('commentPermissions');
        const onlineStatusToggle = document.getElementById('onlineStatusToggle');

        // Current User and Selected Chat User
        let currentUser = null;
        let currentArticleId = null;
        let selectedRating = 0;
        let userFollowing = [];
        let allUsers = [];
        let articles = [];
        let articleTagsArray = [];

        // Initialize the app
        function initApp() {
            // Check if user is logged in using modular auth
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    // User is signed in
                    currentUser = user;
                    showMainPages();
                    updateUserInfo(user);
                    loadUserProfile(user);
                    checkFirstTimeUser(user);
                    loadAllUsers();
                    loadArticles();
                } else {
                    // User is signed out
                    currentUser = null;
                    showAuthPage();
                }
            });

            // Set up event listeners
            setupEventListeners();
            
            // Load settings from localStorage
            loadSettings();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', () => {
                mobileNav.classList.toggle('active');
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileNav.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                    mobileNav.classList.remove('active');
                }
            });

            // Create article button
            createArticleBtn.addEventListener('click', () => {
                showPage('create-article');
            });

            // Auth tab switching
            authTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    
                    // Update active tab
                    authTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Show corresponding form
                    authForms.forEach(form => {
                        form.classList.remove('active');
                        if (form.id === `${tabName}Form`) {
                            form.classList.add('active');
                        }
                    });
                });
            });

            // Login form submission - MODULAR VERSION
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                try {
                    const userCredential = await signInWithEmailAndPassword(auth, email, password);
                    console.log('User logged in:', userCredential.user);
                } catch (error) {
                    console.error('Login error:', error);
                    alert('Login failed: ' + error.message);
                }
            });

            // Signup form submission - MODULAR VERSION
            signupForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const bio = document.getElementById('signupBio').value;
                
                try {
                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    console.log('User signed up:', userCredential.user);
                    
                    // Update profile with display name
                    await updateProfile(userCredential.user, {
                        displayName: name
                    });
                    
                    // Save additional user data to Firestore using modular syntax
                    await setDoc(doc(db, 'users', userCredential.user.uid), {
                        name: name,
                        email: email,
                        bio: bio,
                        joinDate: new Date().toISOString(),
                        articles: 0,
                        followers: 0,
                        following: 0,
                        firstTimeUser: true,
                        profilePicture: ''
                    });
                    
                    console.log('User data saved to Firestore');
                } catch (error) {
                    console.error('Signup error:', error);
                    alert('Signup failed: ' + error.message);
                }
            });

            // Create article form submission
            createArticleForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                await publishArticle();
            });

            // Tags input functionality
            articleTags.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ',') {
                    e.preventDefault();
                    addTag(articleTags.value.trim());
                    articleTags.value = '';
                }
            });

            // Google login - MODULAR VERSION
            googleLoginBtn.addEventListener('click', async () => {
                const provider = new GoogleAuthProvider();
                try {
                    const result = await signInWithPopup(auth, provider);
                    console.log('Google login successful:', result.user);
                    
                    // Check if user exists in Firestore, if not create a record
                    const userRef = doc(db, 'users', result.user.uid);
                    const userDoc = await getDoc(userRef);
                    
                    if (!userDoc.exists()) {
                        await setDoc(userRef, {
                            name: result.user.displayName,
                            email: result.user.email,
                            bio: '',
                            joinDate: new Date().toISOString(),
                            articles: 0,
                            followers: 0,
                            following: 0,
                            firstTimeUser: true,
                            profilePicture: result.user.photoURL || ''
                        });
                    }
                } catch (error) {
                    console.error('Google login error:', error);
                    alert('Google login failed: ' + error.message);
                }
            });

            // Facebook login - MODULAR VERSION
            facebookLoginBtn.addEventListener('click', async () => {
                const provider = new FacebookAuthProvider();
                try {
                    const result = await signInWithPopup(auth, provider);
                    console.log('Facebook login successful:', result.user);
                    
                    // Check if user exists in Firestore, if not create a record
                    const userRef = doc(db, 'users', result.user.uid);
                    const userDoc = await getDoc(userRef);
                    
                    if (!userDoc.exists()) {
                        await setDoc(userRef, {
                            name: result.user.displayName,
                            email: result.user.email,
                            bio: '',
                            joinDate: new Date().toISOString(),
                            articles: 0,
                            followers: 0,
                            following: 0,
                            firstTimeUser: true,
                            profilePicture: result.user.photoURL || ''
                        });
                    }
                } catch (error) {
                    console.error('Facebook login error:', error);
                    alert('Facebook login failed: ' + error.message);
                }
            });

            // Logout - MODULAR VERSION
            logoutBtn.addEventListener('click', async () => {
                try {
                    await signOut(auth);
                    console.log('User signed out');
                } catch (error) {
                    console.error('Logout error:', error);
                }
            });

            // Logout from settings - MODULAR VERSION
            logoutBtnSettings.addEventListener('click', async () => {
                try {
                    await signOut(auth);
                    console.log('User signed out');
                } catch (error) {
                    console.error('Logout error:', error);
                }
            });

            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    showPage(page);
                    mobileNav.classList.remove('active');
                });
            });

            // Search functionality
            searchInput.addEventListener('input', filterArticles);

            // Save profile changes - MODULAR VERSION
            saveProfileBtn.addEventListener('click', async () => {
                if (!currentUser) return;
                
                const name = settingsName.value;
                const email = settingsEmail.value;
                const bio = settingsBio.value;
                const currentPassword = settingsCurrentPassword.value;
                const newPassword = settingsNewPassword.value;
                const confirmPassword = settingsConfirmPassword.value;
                
                try {
                    // Update auth profile
                    await updateProfile(currentUser, {
                        displayName: name
                    });
                    
                    // Update Firestore
                    const userRef = doc(db, 'users', currentUser.uid);
                    await updateDoc(userRef, {
                        name: name,
                        email: email,
                        bio: bio
                    });
                    
                    // Handle password change if provided
                    if (newPassword && confirmPassword) {
                        if (newPassword !== confirmPassword) {
                            alert('New passwords do not match');
                            return;
                        }
                        
                        if (!currentPassword) {
                            alert('Please enter your current password to change it');
                            return;
                        }
                        
                        // Reauthenticate user
                        const credential = EmailAuthProvider.credential(currentUser.email, currentPassword);
                        await reauthenticateWithCredential(currentUser, credential);
                        
                        // Update password
                        await updatePassword(currentUser, newPassword);
                        alert('Password updated successfully!');
                        
                        // Clear password fields
                        settingsCurrentPassword.value = '';
                        settingsNewPassword.value = '';
                        settingsConfirmPassword.value = '';
                    }
                    
                    // Handle profile picture upload
                    const profilePictureFile = settingsProfilePicture.files[0];
                    if (profilePictureFile) {
                        await uploadProfilePicture(profilePictureFile);
                    }
                    
                    // Save settings to localStorage
                    saveSettings();
                    
                    alert('Profile updated successfully!');
                    loadUserProfile(currentUser);
                } catch (error) {
                    console.error('Error updating profile:', error);
                    alert('Error updating profile: ' + error.message);
                }
            });

            // Profile avatar upload
            profileAvatarUpload.addEventListener('click', () => {
                profilePictureUpload.click();
            });
            
            profilePictureUpload.addEventListener('change', async (e) => {
                if (e.target.files[0]) {
                    await uploadProfilePicture(e.target.files[0]);
                }
            });

            // Like button
            likeBtn.addEventListener('click', toggleLike);

            // Comment rating stars
            commentRating.addEventListener('click', e => {
                if (e.target.classList.contains('comment-star')) {
                    const rating = parseInt(e.target.getAttribute('data-rating'));
                    setCommentRating(rating);
                }
            });

            // Comment submission
            commentSubmit.addEventListener('click', submitComment);

            // Follow button
            profileFollowBtn.addEventListener('click', toggleFollow);

            // Delete account
            deleteAccountBtn.addEventListener('click', deleteAccount);

            // Download data
            downloadDataBtn.addEventListener('click', downloadData);

            // Manage blocked users
            manageBlockedUsersBtn.addEventListener('click', manageBlockedUsers);

            // Settings event listeners
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    saveSettings();
                });
            });

            fontOptions.forEach(option => {
                option.addEventListener('click', () => {
                    fontOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    saveSettings();
                });
            });

            layoutOptions.forEach(option => {
                option.addEventListener('click', () => {
                    layoutOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    saveSettings();
                });
            });

            cardStyleOptions.forEach(option => {
                option.addEventListener('click', () => {
                    cardStyleOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    saveSettings();
                });
            });

            // Save settings when any setting changes
            const settingElements = [
                blogVisibility, commentsToggle, autoSaveToggle, postSorting, 
                readingTimeToggle, authorInfoToggle, sharingToggle, themeMode,
                followerNotificationToggle, commentNotificationToggle, publishNotificationToggle,
                analyticsReportToggle, soundAlertToggle, followersVisibility, messagesToggle,
                autoShareToggle, profileVisibility, commentPermissions, onlineStatusToggle,
                twoFactorToggle
            ];

            settingElements.forEach(element => {
                if (element.type === 'checkbox') {
                    element.addEventListener('change', saveSettings);
                } else {
                    element.addEventListener('change', saveSettings);
                }
            });
        }

        // Add tag to article
        function addTag(tagText) {
            if (tagText && !articleTagsArray.includes(tagText)) {
                articleTagsArray.push(tagText);
                renderTags();
            }
        }

        // Remove tag from article
        function removeTag(tagText) {
            articleTagsArray = articleTagsArray.filter(tag => tag !== tagText);
            renderTags();
        }

        // Render tags
        function renderTags() {
            tagsList.innerHTML = '';
            articleTagsArray.forEach(tag => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag';
                tagElement.innerHTML = `
                    ${tag}
                    <span class="tag-remove" data-tag="${tag}">&times;</span>
                `;
                tagsList.appendChild(tagElement);
            });

            // Add event listeners to remove buttons
            document.querySelectorAll('.tag-remove').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const tag = e.target.getAttribute('data-tag');
                    removeTag(tag);
                });
            });
        }

        // Publish article to Firebase
        async function publishArticle() {
            if (!currentUser) {
                alert('Please log in to publish articles');
                return;
            }

            const title = articleTitle.value.trim();
            const category = articleCategory.value;
            const image = articleImage.value.trim();
            const excerpt = articleExcerpt.value.trim();
            const content = articleContent.value.trim();
            const tags = articleTagsArray;

            if (!title || !category || !excerpt || !content) {
                alert('Please fill in all required fields');
                return;
            }

            try {
                // Create article in Firestore
                const articleRef = await addDoc(collection(db, 'articles'), {
                    title: title,
                    category: category,
                    image: image || 'https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                    excerpt: excerpt,
                    content: content,
                    tags: tags,
                    authorId: currentUser.uid,
                    authorName: currentUser.displayName || 'Anonymous',
                    publishedAt: serverTimestamp(),
                    readCount: 0,
                    likeCount: 0,
                    commentCount: 0,
                    rating: 0,
                    ratingCount: 0
                });

                // Update user's article count
                const userRef = doc(db, 'users', currentUser.uid);
                await updateDoc(userRef, {
                    articles: increment(1)
                });

                // Clear form
                createArticleForm.reset();
                articleTagsArray = [];
                renderTags();

                alert('Article published successfully!');
                showPage('articles');
                
                // Reload articles to show the new one
                loadArticles();
            } catch (error) {
                console.error('Error publishing article:', error);
                alert('Error publishing article: ' + error.message);
            }
        }

        // Load articles from Firebase
        async function loadArticles() {
            try {
                const articlesRef = collection(db, 'articles');
                const q = query(articlesRef, orderBy('publishedAt', 'desc'));
                const snapshot = await getDocs(q);
                
                articles = [];
                snapshot.forEach(doc => {
                    const articleData = doc.data();
                    articles.push({
                        id: doc.id,
                        ...articleData,
                        // Convert Firestore timestamp to Date
                        date: articleData.publishedAt ? 
                            articleData.publishedAt.toDate().toLocaleDateString() : 
                            new Date().toLocaleDateString()
                    });
                });
                
                renderArticles();
            } catch (error) {
                console.error('Error loading articles:', error);
            }
        }

        // Upload profile picture
        async function uploadProfilePicture(file) {
            if (!currentUser) return;
            
            try {
                // Create a reference to the file location
                const storageRef = ref(storage, `profile-pictures/${currentUser.uid}`);
                
                // Upload the file
                const snapshot = await uploadBytes(storageRef, file);
                
                // Get the download URL
                const downloadURL = await getDownloadURL(snapshot.ref);
                
                // Update user profile with the new photo URL
                await updateProfile(currentUser, {
                    photoURL: downloadURL
                });
                
                // Update Firestore
                const userRef = doc(db, 'users', currentUser.uid);
                await updateDoc(userRef, {
                    profilePicture: downloadURL
                });
                
                // Update UI
                updateUserInfo(currentUser);
                
                alert('Profile picture updated successfully!');
            } catch (error) {
                console.error('Error uploading profile picture:', error);
                alert('Error uploading profile picture: ' + error.message);
            }
        }

        // Show authentication page
        function showAuthPage() {
            authPage.classList.add('active');
            homePage.classList.remove('active');
            aboutPage.classList.remove('active');
            articlesPage.classList.remove('active');
            createArticlePage.classList.remove('active');
            articleDetailPage.classList.remove('active');
            profilePage.classList.remove('active');
            settingsPage.classList.remove('active');
            userInfo.style.display = 'none';
        }

        // Show main pages after login
        function showMainPages() {
            authPage.classList.remove('active');
            homePage.classList.add('active');
            userInfo.style.display = 'flex';
        }

        // Show specific page
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show the selected page
            document.getElementById(pageName).classList.add('active');
            
            // If showing profile page, check if it's the current user's profile
            if (pageName === 'profile') {
                if (currentUser) {
                    // It's the current user's profile
                    profileFollowBtn.style.display = 'none';
                    loadUserArticles(currentUser.uid);
                } else {
                    // It's another user's profile
                    profileFollowBtn.style.display = 'inline-block';
                }
            }
            
            // If showing articles page, load all articles
            if (pageName === 'articles') {
                loadArticles();
            }
        }

        // Update user information in the UI
        function updateUserInfo(user) {
            const displayName = user.displayName || 'User';
            const email = user.email || 'user@example.com';
            const photoURL = user.photoURL || '';
            const firstLetter = displayName.charAt(0).toUpperCase();
            
            userAvatar.textContent = photoURL ? '' : firstLetter;
            userAvatar.style.backgroundImage = photoURL ? `url(${photoURL})` : '';
            
            profileAvatar.textContent = photoURL ? '' : firstLetter;
            profileAvatar.style.backgroundImage = photoURL ? `url(${photoURL})` : '';
            
            profileName.textContent = displayName;
            profileEmail.textContent = email;
        }

        // Load user profile from Firestore - MODULAR VERSION
        async function loadUserProfile(user) {
            try {
                const userRef = doc(db, 'users', user.uid);
                const userDoc = await getDoc(userRef);
                
                if (userDoc.exists()) {
                    const userData = userDoc.data();
                    profileName.textContent = userData.name || user.displayName || 'User';
                    profileBio.textContent = userData.bio || 'This is where the user\'s bio will appear. They can edit this in their settings.';
                    profileArticlesCount.textContent = userData.articles || 0;
                    profileFollowersCount.textContent = userData.followers || 0;
                    profileFollowingCount.textContent = userData.following || 0;
                    
                    if (userData.joinDate) {
                        const joinDate = new Date(userData.joinDate);
                        profileJoinDate.textContent = `Member since ${joinDate.toLocaleString('default', { month: 'long' })} ${joinDate.getFullYear()}`;
                    }
                    
                    // Update settings form
                    settingsName.value = userData.name || user.displayName || '';
                    settingsEmail.value = userData.email || user.email || '';
                    settingsBio.value = userData.bio || '';
                    
                    // Update profile picture if available
                    if (userData.profilePicture) {
                        userAvatar.style.backgroundImage = `url(${userData.profilePicture})`;
                        userAvatar.textContent = '';
                        profileAvatar.style.backgroundImage = `url(${userData.profilePicture})`;
                        profileAvatar.textContent = '';
                    }
                }
            } catch (error) {
                console.error('Error loading user profile:', error);
            }
        }

        // Load user's articles
        async function loadUserArticles(userId) {
            try {
                const articlesRef = collection(db, 'articles');
                const q = query(articlesRef, where('authorId', '==', userId), orderBy('publishedAt', 'desc'));
                const snapshot = await getDocs(q);
                
                const userArticles = [];
                snapshot.forEach(doc => {
                    const articleData = doc.data();
                    userArticles.push({
                        id: doc.id,
                        ...articleData,
                        date: articleData.publishedAt ? 
                            articleData.publishedAt.toDate().toLocaleDateString() : 
                            new Date().toLocaleDateString()
                    });
                });
                
                renderUserArticles(userArticles);
            } catch (error) {
                console.error('Error loading user articles:', error);
            }
        }

        // Render user's articles
        function renderUserArticles(userArticles) {
            profileArticlesGrid.innerHTML = '';
            
            if (userArticles.length === 0) {
                profileArticlesGrid.innerHTML = '<p>No articles published yet.</p>';
                return;
            }
            
            userArticles.forEach(article => {
                profileArticlesGrid.appendChild(createArticleCard(article));
            });
        }

        // Load all users from Firestore
        async function loadAllUsers() {
            try {
                const usersRef = collection(db, 'users');
                const snapshot = await getDocs(usersRef);
                allUsers = [];
                snapshot.forEach(doc => {
                    if (doc.id !== currentUser.uid) {
                        allUsers.push({
                            id: doc.id,
                            ...doc.data()
                        });
                    }
                });
                renderUserSuggestions();
            } catch (error) {
                console.error('Error loading users:', error);
            }
        }

        // Check if user is first-time user and show suggestions
        function checkFirstTimeUser(user) {
            // In a real app, you would check Firestore
            // For this demo, we'll show suggestions for all users
            suggestionsSection.style.display = 'block';
            renderUserSuggestions();
        }

        // Render articles to the page
        function renderArticles() {
            // Clear existing articles
            featuredArticlesGrid.innerHTML = '';
            allArticlesGrid.innerHTML = '';
            
            // Render featured articles (first 3)
            articles.slice(0, 3).forEach(article => {
                featuredArticlesGrid.appendChild(createArticleCard(article));
            });
            
            // Render all articles
            articles.forEach(article => {
                allArticlesGrid.appendChild(createArticleCard(article));
            });
        }

        // Create article card element
        function createArticleCard(article) {
            const card = document.createElement('div');
            card.className = 'article-card';
            card.setAttribute('data-id', article.id);
            card.innerHTML = `
                <div class="article-img" style="background-image: url('${article.image}')"></div>
                <div class="article-content">
                    <h3>${article.title}</h3>
                    <div class="article-meta">
                        <span>${article.authorName}</span>
                        <span>${article.date}</span>
                    </div>
                    <p class="article-excerpt">${article.excerpt}</p>
                    <div class="engagement-metrics">
                        <div class="metric">
                            <div class="metric-value">${article.readCount || 0}</div>
                            <div class="metric-label">Reads</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${article.likeCount || 0}</div>
                            <div class="metric-label">Likes</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${article.commentCount || 0}</div>
                            <div class="metric-label">Comments</div>
                        </div>
                    </div>
                    <div class="article-actions">
                        <a href="#" class="read-more" data-id="${article.id}">Read More <i class="fas fa-arrow-right"></i></a>
                        <div class="rating">
                            ${createRatingStars(article.rating || 0)}
                        </div>
                    </div>
                </div>
            `;
            
            // Add click event to read more button
            const readMoreBtn = card.querySelector('.read-more');
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                showArticleDetail(article.id);
            });
            
            return card;
        }

        // Create rating stars
        function createRatingStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star star active"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt star active"></i>';
            }
            
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star star"></i>';
            }
            
            return stars;
        }

        // Show article detail
        function showArticleDetail(articleId) {
            const article = articles.find(a => a.id === articleId);
            if (!article) return;
            
            currentArticleId = articleId;
            
            // Update article detail page
            document.getElementById('detailTitle').textContent = article.title;
            document.getElementById('detailAuthor').textContent = article.authorName;
            document.getElementById('detailDate').textContent = article.date;
            document.getElementById('detailCategory').textContent = article.category;
            document.getElementById('detailImage').style.backgroundImage = `url('${article.image}')`;
            document.getElementById('detailBody').innerHTML = article.content;
            detailReadCount.textContent = article.readCount || 0;
            detailLikeCount.textContent = article.likeCount || 0;
            detailCommentCount.textContent = article.commentCount || 0;
            
            // Update tags
            const tagsContainer = document.getElementById('detailTags');
            tagsContainer.innerHTML = '';
            if (article.tags && article.tags.length > 0) {
                article.tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'tag';
                    tagElement.textContent = tag;
                    tagsContainer.appendChild(tagElement);
                });
            }
            
            // Update rating
            const ratingContainer = document.getElementById('detailRating');
            ratingContainer.innerHTML = createRatingStars(article.rating || 0);
            
            // Update rating count
            document.getElementById('detailRatingCount').textContent = `(${article.ratingCount || 0} ratings)`;
            
            // Reset comment rating
            setCommentRating(0);
            
            // Show article detail page
            showPage('article-detail');
            
            // Load comments
            loadComments(articleId);
            
            // Increment read count
            incrementReadCount(articleId);
        }

        // Increment article read count
        async function incrementReadCount(articleId) {
            try {
                const articleRef = doc(db, 'articles', articleId);
                await updateDoc(articleRef, {
                    readCount: increment(1)
                });
            } catch (error) {
                console.error('Error incrementing read count:', error);
            }
        }

        // Load comments for an article
        function loadComments(articleId) {
            // In a real app, you would fetch comments from a database
            // For this demo, we'll use sample comments
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            const sampleComments = [
                {
                    id: 1,
                    author: "Alex Johnson",
                    text: "This is a great article! Very informative and well-written.",
                    date: "2 days ago",
                    rating: 5
                },
                {
                    id: 2,
                    author: "Sarah Miller",
                    text: "I learned a lot from this. Thanks for sharing your insights!",
                    date: "1 day ago",
                    rating: 4
                }
            ];
            
            sampleComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment';
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <span class="comment-author">${comment.author}</span>
                        <span class="comment-date">${comment.date}</span>
                    </div>
                    <p class="comment-text">${comment.text}</p>
                    <div class="comment-rating">
                        <div class="comment-stars">
                            ${createRatingStars(comment.rating)}
                        </div>
                    </div>
                `;
                commentsList.appendChild(commentElement);
            });
        }

        // Filter articles based on search input
        function filterArticles() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredArticles = articles.filter(article => 
                article.title.toLowerCase().includes(searchTerm) || 
                article.excerpt.toLowerCase().includes(searchTerm) ||
                article.category.toLowerCase().includes(searchTerm) ||
                (article.tags && article.tags.some(tag => tag.toLowerCase().includes(searchTerm)))
            );
            
            // Clear existing articles
            allArticlesGrid.innerHTML = '';
            
            // Render filtered articles
            filteredArticles.forEach(article => {
                allArticlesGrid.appendChild(createArticleCard(article));
            });
        }

        // Render user suggestions for first-time users
        function renderUserSuggestions() {
            suggestionsGrid.innerHTML = '';
            
            // Show first 4 users as suggestions
            allUsers.slice(0, 4).forEach(user => {
                const firstLetter = user.name ? user.name.charAt(0).toUpperCase() : 'U';
                const profilePicture = user.profilePicture || '';
                const isFollowing = userFollowing.includes(user.id);
                
                const suggestionElement = document.createElement('div');
                suggestionElement.className = 'suggestion-card';
                suggestionElement.innerHTML = `
                    <div class="suggestion-avatar" style="background-image: ${profilePicture ? `url(${profilePicture})` : ''}">${profilePicture ? '' : firstLetter}</div>
                    <h4>${user.name || 'User'}</h4>
                    <p>${user.bio || 'BlogHub user'}</p>
                    <div class="suggestion-stats">
                        <span>${user.followers || 0} followers</span>
                        <span>${user.articles || 0} articles</span>
                    </div>
                    <button class="follow-btn ${isFollowing ? 'following' : ''}" data-id="${user.id}">${isFollowing ? 'Following' : 'Follow'}</button>
                `;
                
                const followBtn = suggestionElement.querySelector('.follow-btn');
                followBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (isFollowing) {
                        unfollowUser(user.id);
                    } else {
                        followUser(user.id);
                    }
                });
                
                suggestionsGrid.appendChild(suggestionElement);
            });
        }

        // Toggle follow status
        function toggleFollow() {
            if (!currentUser) {
                alert('Please log in to follow users');
                return;
            }
            
            // In this simplified version, we're just toggling the button state
            // In a real app, you would update Firestore
            if (profileFollowBtn.classList.contains('following')) {
                profileFollowBtn.textContent = 'Follow';
                profileFollowBtn.classList.remove('following');
            } else {
                profileFollowBtn.textContent = 'Following';
                profileFollowBtn.classList.add('following');
            }
        }

        // Follow user - MODULAR VERSION
        async function followUser(userId) {
            if (!currentUser) return;
            
            try {
                // Add to following list
                await setDoc(doc(db, 'users', currentUser.uid, 'following', userId), {
                    timestamp: serverTimestamp()
                });
                
                // Add to user's followers list
                await setDoc(doc(db, 'users', userId, 'followers', currentUser.uid), {
                    timestamp: serverTimestamp()
                });
                
                // Update userFollowing array
                userFollowing.push(userId);
                
                // Update UI
                const followBtn = document.querySelector(`.follow-btn[data-id="${userId}"]`);
                if (followBtn) {
                    followBtn.textContent = 'Following';
                    followBtn.classList.add('following');
                }
                
                // Show success message
                alert('You are now following this user!');
            } catch (error) {
                console.error('Error following user:', error);
                alert('Error following user: ' + error.message);
            }
        }

        // Unfollow user - MODULAR VERSION
        async function unfollowUser(userId) {
            if (!currentUser) return;
            
            try {
                // Remove from following list
                await deleteDoc(doc(db, 'users', currentUser.uid, 'following', userId));
                
                // Remove from user's followers list
                await deleteDoc(doc(db, 'users', userId, 'followers', currentUser.uid));
                
                // Update userFollowing array
                const index = userFollowing.indexOf(userId);
                if (index > -1) {
                    userFollowing.splice(index, 1);
                }
                
                // Update UI
                const followBtn = document.querySelector(`.follow-btn[data-id="${userId}"]`);
                if (followBtn) {
                    followBtn.textContent = 'Follow';
                    followBtn.classList.remove('following');
                }
                
                // Show success message
                alert('You have unfollowed this user.');
            } catch (error) {
                console.error('Error unfollowing user:', error);
                alert('Error unfollowing user: ' + error.message);
            }
        }

        // Toggle like on article
        function toggleLike() {
            if (!currentUser) {
                alert('Please log in to like articles');
                return;
            }
            
            const article = articles.find(a => a.id === currentArticleId);
            if (!article) return;
            
            // In a real app, you would update Firestore
            // For this demo, we'll update the UI immediately
            if (likeBtn.querySelector('i').classList.contains('far')) {
                // Like the article
                likeBtn.innerHTML = '<i class="fas fa-heart"></i> Liked';
                article.likeCount++;
                detailLikeCount.textContent = article.likeCount;
            } else {
                // Unlike the article
                likeBtn.innerHTML = '<i class="far fa-heart"></i> Like';
                article.likeCount--;
                detailLikeCount.textContent = article.likeCount;
            }
        }

        // Set comment rating
        function setCommentRating(rating) {
            selectedRating = rating;
            const stars = commentRating.querySelectorAll('.comment-star');
            
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('far');
                    star.classList.add('fas');
                } else {
                    star.classList.remove('fas');
                    star.classList.add('far');
                }
            });
        }

        // Submit comment
        function submitComment() {
            if (!currentUser) {
                alert('Please log in to comment');
                return;
            }
            
            const commentText = commentInput.value.trim();
            if (!commentText) {
                alert('Please enter a comment');
                return;
            }
            
            if (selectedRating === 0) {
                alert('Please rate the article');
                return;
            }
            
            // In a real app, you would save the comment to Firestore
            // For this demo, we'll update the UI immediately
            
            // Create comment element
            const commentElement = document.createElement('div');
            commentElement.className = 'comment';
            
            const currentDate = new Date();
            const timeAgo = 'Just now';
            
            commentElement.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author">${currentUser.displayName || 'You'}</span>
                    <span class="comment-date">${timeAgo}</span>
                </div>
                <p class="comment-text">${commentText}</p>
                <div class="comment-rating">
                    <div class="comment-stars">
                        ${createRatingStars(selectedRating)}
                    </div>
                </div>
            `;
            
            // Add comment to the list
            const commentsList = document.getElementById('commentsList');
            commentsList.insertBefore(commentElement, commentsList.firstChild);
            
            // Update comment count
            const article = articles.find(a => a.id === currentArticleId);
            if (article) {
                article.commentCount++;
                detailCommentCount.textContent = article.commentCount;
            }
            
            // Clear comment input and rating
            commentInput.value = '';
            setCommentRating(0);
            
            // Show success message
            alert('Comment added successfully!');
        }

        // Save settings to localStorage
        function saveSettings() {
            const settings = {
                blogVisibility: blogVisibility.value,
                commentsToggle: commentsToggle.checked,
                autoSaveToggle: autoSaveToggle.checked,
                postSorting: postSorting.value,
                readingTimeToggle: readingTimeToggle.checked,
                authorInfoToggle: authorInfoToggle.checked,
                sharingToggle: sharingToggle.checked,
                themeMode: themeMode.value,
                accentColor: document.querySelector('.color-option.active').getAttribute('data-color'),
                fontStyle: document.querySelector('.font-option.active').getAttribute('data-font'),
                layoutMode: document.querySelector('.layout-option.active').getAttribute('data-layout'),
                cardStyle: document.querySelector('.card-style-option.active').getAttribute('data-style'),
                followerNotificationToggle: followerNotificationToggle.checked,
                commentNotificationToggle: commentNotificationToggle.checked,
                publishNotificationToggle: publishNotificationToggle.checked,
                analyticsReportToggle: analyticsReportToggle.checked,
                soundAlertToggle: soundAlertToggle.checked,
                followersVisibility: followersVisibility.value,
                messagesToggle: messagesToggle.checked,
                autoShareToggle: autoShareToggle.checked,
                profileVisibility: profileVisibility.value,
                commentPermissions: commentPermissions.value,
                onlineStatusToggle: onlineStatusToggle.checked,
                twoFactorToggle: twoFactorToggle.checked
            };
            
            localStorage.setItem('bloghubSettings', JSON.stringify(settings));
            applySettings(settings);
        }

        // Load settings from localStorage
        function loadSettings() {
            const savedSettings = localStorage.getItem('bloghubSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Apply settings to form elements
                blogVisibility.value = settings.blogVisibility || 'public';
                commentsToggle.checked = settings.commentsToggle !== false;
                autoSaveToggle.checked = settings.autoSaveToggle !== false;
                postSorting.value = settings.postSorting || 'latest';
                readingTimeToggle.checked = settings.readingTimeToggle !== false;
                authorInfoToggle.checked = settings.authorInfoToggle !== false;
                sharingToggle.checked = settings.sharingToggle !== false;
                themeMode.value = settings.themeMode || 'dark';
                
                // Apply color option
                const colorOption = document.querySelector(`.color-option[data-color="${settings.accentColor || '#3498db'}"]`);
                if (colorOption) {
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    colorOption.classList.add('active');
                }
                
                // Apply font option
                const fontOption = document.querySelector(`.font-option[data-font="${settings.fontStyle || 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif'}"]`);
                if (fontOption) {
                    fontOptions.forEach(opt => opt.classList.remove('active'));
                    fontOption.classList.add('active');
                }
                
                // Apply layout option
                const layoutOption = document.querySelector(`.layout-option[data-layout="${settings.layoutMode || 'full-width'}"]`);
                if (layoutOption) {
                    layoutOptions.forEach(opt => opt.classList.remove('active'));
                    layoutOption.classList.add('active');
                }
                
                // Apply card style option
                const cardStyleOption = document.querySelector(`.card-style-option[data-style="${settings.cardStyle || 'minimal'}"]`);
                if (cardStyleOption) {
                    cardStyleOptions.forEach(opt => opt.classList.remove('active'));
                    cardStyleOption.classList.add('active');
                }
                
                followerNotificationToggle.checked = settings.followerNotificationToggle !== false;
                commentNotificationToggle.checked = settings.commentNotificationToggle !== false;
                publishNotificationToggle.checked = settings.publishNotificationToggle !== false;
                analyticsReportToggle.checked = settings.analyticsReportToggle || false;
                soundAlertToggle.checked = settings.soundAlertToggle !== false;
                followersVisibility.value = settings.followersVisibility || 'public';
                messagesToggle.checked = settings.messagesToggle !== false;
                autoShareToggle.checked = settings.autoShareToggle || false;
                profileVisibility.value = settings.profileVisibility || 'public';
                commentPermissions.value = settings.commentPermissions || 'everyone';
                onlineStatusToggle.checked = settings.onlineStatusToggle !== false;
                twoFactorToggle.checked = settings.twoFactorToggle || false;
                
                // Apply visual settings
                applySettings(settings);
            }
        }

        // Apply settings to the UI
        function applySettings(settings) {
            // Apply accent color
            if (settings.accentColor) {
                document.documentElement.style.setProperty('--accent-color', settings.accentColor);
                document.documentElement.style.setProperty('--hover-color', adjustColor(settings.accentColor, 20));
            }
            
            // Apply font style
            if (settings.fontStyle) {
                document.body.style.fontFamily = settings.fontStyle;
            }
            
            // Apply theme mode
            if (settings.themeMode === 'light') {
                document.documentElement.style.setProperty('--primary-bg', '#f5f5f5');
                document.documentElement.style.setProperty('--secondary-bg', '#ffffff');
                document.documentElement.style.setProperty('--card-bg', '#ffffff');
                document.documentElement.style.setProperty('--text-color', '#333333');
                document.documentElement.style.setProperty('--text-secondary', '#666666');
            } else {
                document.documentElement.style.setProperty('--primary-bg', '#0a0a1a');
                document.documentElement.style.setProperty('--secondary-bg', '#15152b');
                document.documentElement.style.setProperty('--card-bg', '#1e1e3a');
                document.documentElement.style.setProperty('--text-color', '#ffffff');
                document.documentElement.style.setProperty('--text-secondary', '#b0b0cc');
            }
        }

        // Helper function to adjust color brightness
        function adjustColor(color, amount) {
            return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
        }

        // Delete account
        async function deleteAccount() {
            if (!currentUser) return;
            
            const confirmDelete = confirm('Are you sure you want to delete your account? This action cannot be undone.');
            if (!confirmDelete) return;
            
            try {
                // Delete user from Firebase Auth
                await deleteUser(currentUser);
                console.log('User account deleted');
                
                // In a real app, you would also delete user data from Firestore
                // For this demo, we'll just sign out
                await signOut(auth);
            } catch (error) {
                console.error('Error deleting account:', error);
                alert('Error deleting account: ' + error.message);
            }
        }

        // Download data
        function downloadData() {
            alert('Data export feature would be implemented in a production app. This would generate a file with all your BlogHub data.');
        }

        // Manage blocked users
        function manageBlockedUsers() {
            alert('Blocked users management would be implemented in a production app.');
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>